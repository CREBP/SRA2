<div ng-controller="libraryListController" class="row-fluid">
	<legend>
		Manage your libraries
		<div class="btn-group pull-right">
			<a class="btn dropdown-toggle" data-toggle="dropdown">
				<i class="fa fa-cog"></i>
				Tools
				<i class="fa fa-caret-down"></i>
			</a>
			<ul class="dropdown-menu">
				<li><a href="#/libraries/import"><i class="fa fa-cloud-upload"></i> Import references</a></li>
				<li><a href="#/libraries/export"><i class="fa fa-cloud-download"></i> Export references</a></li>
				<li class="divider"></li>
				<li><a href="#/libraries/dedupe"><i class="fa fa-compress"></i> Eliminate Duplicates</a></li>
				<li><a href="#/libraries/screen"><i class="fa fa-filter"></i> Screen references</a></li>
			</ul>
		</div>
	</legend>

	<div ng-if="!libraries.length" class="alert alert-info">
		<h4><i class="fa fa-info-circle"></i> No libraries found</h4>
		<p>You dont appear to have any reference libraries. You can import an existing library file or create new library manually.</p>
		<div class="text-center pad-top">
			<a href="#/libraries/import" class="btn"><i class="fa fa-cloud-upload"></i> Import file</a>
			<a href="#/libraries/create" class="btn"><i class="fa fa-plus"></i> Manually create library</a>
		</div>
	</div>
	<table ng-if="libraries.length" class="table table-striped table-bordered">
		<tr>
			<th width="40px">&nbsp;</th>
			<th>Title</th>
			<th width="60px">References</th>
		</tr>
		<tr ng-repeat="library in libraries track by library._id">
			<td>
				<div class="dropdown">
					<a class="btn" data-toggle="dropdown"><i class="fa fa-tags"></i></a>
					<ul class="dropdown-menu" ng-include="'/partials/libraries/verbs.html'"></ul>
				</div>
			</td>
			<td><a href="#/libraries/{{library._id}}">{{library.title}}</a></td>
			<td class="text-center"><a href="#/libraries/{{library._id}}">
				<i ng-show="library.referenceCount == 'loading'" class="fa fa-spinner fa-spin"></i>
				<span ng-show="library.referenceCount != 'loading'" class="badge badge-info">{{library.referenceCount}}</span>
			</a></td>
		</tr>
	</table>
</div>
