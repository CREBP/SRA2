<div ng-controller="replicantOptionsController" class="row-fluid">
	<legend>RevMan Replicant - import options</legend>
	<div ng-if="error" class="alert alert-danger">{{error}}</div>
	<form ng-submit="submit()" class="form-horizontal">
		<div class="form-group">
			<label class="col-sm-2 control-label">
				Primary studies
				<div class="help-block">
					Select all studies that should have output within the abstract
				</div>
			</label>
			<div class="col-sm-10 form-control-static">
				<ul>
					<li ng-repeat="study in revman track by study.id">
						<div ng-class="study.selected && 'bg-info'" ng-click="toggle(study, 'selected')">
							{{study.name}}
						</div>

						<ul ng-if="study.comparisons">
							<li ng-repeat="comparison in study.comparisons track by comparison.id">
								<div ng-class="comparison.selected && 'bg-info'" ng-click="toggle(comparison, 'selected')">
									{{comparison.name}}
								</div>

								<ul ng-if="comparison.subComparisons">
									<li ng-repeat="subComparison in comparison.subComparisons track by subComparison.id">
										<div ng-class="subComparison.selected && 'bg-info'" ng-click="toggle(subComparison, 'selected')">
											{{subComparison.name}}
										</div>
									</li>
								</ul>
							</li>
						</ul>
					</li>
				</ul>
			</div>
			<label class="col-sm-2 control-label">
				Grammar file
			</label>
			<div class="col-sm-10">
				<select ng-model="options.grammar" class="form-control">
					<option ng-repeat="grammar in grammars track by grammar.file" value="{{grammar.file}}">{{grammar.name}}</option>
				</select>
			</div>
		</div>

		<div class="text-center">
			<button type="submit" class="btn btn-lg btn-success"><i class="fa fa-check"></i> Generate content</button>
		</div>
	</form>
</div>
